# âœ¨ æ–°åŠŸèƒ½ï¼šè‰ç¨¿æ¸¸æˆä¹Ÿæ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­

## ğŸ¯ åŠŸèƒ½è¯´æ˜

ç°åœ¨æ¸¸æˆåˆ—è¡¨é¡µé¢ä¼š**åŒæ—¶æ˜¾ç¤º**ï¼š
1. âœ… **å·²å‘å¸ƒçš„æ¸¸æˆ**ï¼ˆstatus: 'published' / 'reviewing'ï¼‰
2. âœ… **è‰ç¨¿æ¸¸æˆ**ï¼ˆstatus: 'draft'ï¼‰- æ¥è‡ªåˆ›å»ºé¡µé¢çš„è‡ªåŠ¨ä¿å­˜

## ğŸ”„ å·¥ä½œåŸç†

### æ•°æ®æ¥æº

#### ä¹‹å‰ï¼ˆä»…æ˜¾ç¤ºå·²å‘å¸ƒæ¸¸æˆï¼‰
```
localStorage['published_games'] â†’ æ¸¸æˆåˆ—è¡¨
```

#### ç°åœ¨ï¼ˆæ˜¾ç¤ºå·²å‘å¸ƒ + è‰ç¨¿ï¼‰
```
localStorage['published_games']  â†’ å·²å‘å¸ƒæ¸¸æˆ
      +
localStorage['game_form_data']   â†’ è‰ç¨¿æ¸¸æˆ
      â†“
   æ¸¸æˆåˆ—è¡¨ï¼ˆåˆå¹¶æ˜¾ç¤ºï¼‰
```

### æ–°å¢å‡½æ•°

`getAllGames()` å‡½æ•°ä¼šï¼š
1. è¯»å– `published_games`ï¼ˆå·²å‘å¸ƒçš„æ¸¸æˆï¼‰
2. è¯»å– `game_form_data`ï¼ˆå½“å‰è‰ç¨¿ï¼‰
3. å¦‚æœè‰ç¨¿æœ‰æ¸¸æˆåç§°ï¼Œå°†å…¶è½¬æ¢ä¸ºæ¸¸æˆå¯¹è±¡
4. åˆå¹¶ä¸¤è€…å¹¶è¿”å›

```typescript
export function getAllGames(): PublishedGame[] {
  // 1. è·å–å·²å‘å¸ƒçš„æ¸¸æˆ
  const publishedGames = JSON.parse(localStorage.getItem('published_games') || '[]');
  
  // 2. è·å–è‰ç¨¿
  const draft = JSON.parse(localStorage.getItem('game_form_data') || 'null');
  
  // 3. å¦‚æœæœ‰è‰ç¨¿ï¼Œè½¬æ¢ä¸ºæ¸¸æˆå¯¹è±¡
  if (draft && draft.gameName) {
    const draftGame = {
      ...draft,
      id: 'draft_current',
      status: 'draft',
      version: '0.1.0'
    };
    return [...publishedGames, draftGame];
  }
  
  return publishedGames;
}
```

## ğŸ¨ UI æ˜¾ç¤ºæ•ˆæœ

### è‰ç¨¿æ¸¸æˆçš„ç‰¹æ®Šæ ‡è¯†

- ğŸ·ï¸ **çŠ¶æ€æ ‡ç­¾**: è“è‰² "Draft" æ ‡ç­¾ï¼ˆè€Œéç»¿è‰² "Published"ï¼‰
- ğŸ“Š **ç»Ÿè®¡å¡ç‰‡**: Drafts æ•°é‡ä¼šåŒ…å«å½“å‰è‰ç¨¿
- ğŸ“Œ **ç‰ˆæœ¬å·**: æ˜¾ç¤ºä¸º `0.1.0`ï¼ˆè‰ç¨¿ç‰ˆæœ¬ï¼‰
- ğŸ” **è¿‡æ»¤å™¨**: å¯ä»¥é€šè¿‡çŠ¶æ€è¿‡æ»¤å™¨é€‰æ‹© "Drafts" æŸ¥çœ‹

### æ˜¾ç¤ºç¤ºä¾‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Draft]                        â”‚  â† è“è‰²æ ‡ç­¾
â”‚  æµ‹è¯•æ¸¸æˆ                        â”‚
â”‚  Action | Android | iOS         â”‚
â”‚  Downloads: 0 | Rating: 0       â”‚
â”‚  Version: 0.1.0                 â”‚  â† è‰ç¨¿ç‰ˆæœ¬
â”‚  [View] [Edit] [Statistics]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ è‡ªåŠ¨åˆ·æ–°æœºåˆ¶

æ¸¸æˆåˆ—è¡¨ç°åœ¨ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨æ›´æ–°ï¼š

1. âœ… **é¡µé¢åˆæ¬¡åŠ è½½**
2. âœ… **è·¨æ ‡ç­¾é¡µä¿®æ”¹** - storage äº‹ä»¶
3. âœ… **é¡µé¢é‡æ–°å¯è§** - visibilitychange äº‹ä»¶
4. âœ… **è‡ªå®šä¹‰åˆ·æ–°** - gamesListRefresh äº‹ä»¶
5. âœ… **å®šæœŸæ£€æŸ¥** - æ¯3ç§’è‡ªåŠ¨æ£€æŸ¥è‰ç¨¿å˜åŒ–

## ğŸ“ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å¡«å†™è‰ç¨¿æ—¶å®æ—¶æ˜¾ç¤º

1. æ‰“å¼€ `http://localhost:3000/games/create`
2. å¡«å†™æ¸¸æˆåç§°å’Œç±»å‹
3. åˆ‡æ¢åˆ° `http://localhost:3000/games`ï¼ˆæ–°æ ‡ç­¾é¡µæˆ–è¿”å›ï¼‰
4. **çœ‹åˆ°è‰ç¨¿æ¸¸æˆ**æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼ˆæ ‡ç­¾ï¼šDraftï¼‰

### åœºæ™¯ 2: ç¼–è¾‘è‰ç¨¿

1. åœ¨åˆ—è¡¨ä¸­çœ‹åˆ°è‰ç¨¿æ¸¸æˆ
2. ç‚¹å‡» "Edit" æŒ‰é’®è¿”å›åˆ›å»ºé¡µé¢
3. ç»§ç»­ç¼–è¾‘
4. è‰ç¨¿è‡ªåŠ¨æ›´æ–°ï¼ˆæ¯0.5ç§’é˜²æŠ–ä¿å­˜ï¼‰
5. åˆ—è¡¨è‡ªåŠ¨åˆ·æ–°ï¼ˆæ¯3ç§’æ£€æŸ¥ï¼‰

### åœºæ™¯ 3: æäº¤è‰ç¨¿ä¸ºæ­£å¼æ¸¸æˆ

1. åœ¨åˆ›å»ºé¡µé¢å®Œå–„è‰ç¨¿
2. ç‚¹å‡» "Submit Game"
3. è‰ç¨¿è½¬å˜ä¸º published çŠ¶æ€
4. `game_form_data` è¢«æ¸…é™¤
5. æ¸¸æˆä¿å­˜åˆ° `published_games`
6. åˆ—è¡¨ä¸­çš„æ ‡ç­¾ä» "Draft" å˜ä¸º "Published"

## ğŸ“Š ç»Ÿè®¡æ•°å­—è¯´æ˜

### Drafts å¡ç‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1              â”‚  â† åŒ…å«å½“å‰è‰ç¨¿ï¼ˆå¦‚æœæœ‰ï¼‰
â”‚  Drafts         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è®¡ç®—é€»è¾‘ï¼š
```typescript
drafts: allGames.filter(g => g.status === 'draft').length
```

## ğŸ¯ æµ‹è¯•æ–¹æ³•

### å¿«é€Ÿæµ‹è¯•

**åœ¨æ¸¸æˆåˆ—è¡¨é¡µé¢ï¼ˆhttp://localhost:3000/gamesï¼‰æ§åˆ¶å°è¿è¡Œ**ï¼š

```javascript
// æ·»åŠ ä¸€ä¸ªè‰ç¨¿åˆ° game_form_data
localStorage.setItem('game_form_data', JSON.stringify({
  gameName: "æˆ‘çš„è‰ç¨¿æ¸¸æˆ",
  gameIntro: "è¿™æ˜¯ä¸€ä¸ªè‰ç¨¿",
  gameType: "RPG",
  avatarSrc: "",
  headerImage: "",
  platforms: { android: true, ios: false, web: false },
  platformConfigs: {},
  screenshots: [],
  savedAt: Date.now()
}));

// åˆ·æ–°é¡µé¢
location.reload();
```

**é¢„æœŸç»“æœ**:
- âœ… Total Games: 1
- âœ… Drafts: 1  
- âœ… çœ‹åˆ°ä¸€ä¸ªæ¸¸æˆå¡ç‰‡ï¼Œæ ‡ç­¾æ˜¾ç¤º "Draft"ï¼ˆè“è‰²ï¼‰

### å®Œæ•´æµ‹è¯•

1. **æ·»åŠ è‰ç¨¿**:
   ```javascript
   localStorage.setItem('game_form_data', JSON.stringify({
     gameName: "è‰ç¨¿æ¸¸æˆ",
     gameType: "Action",
     platforms: { android: true },
     savedAt: Date.now()
   }));
   ```

2. **æ·»åŠ å·²å‘å¸ƒæ¸¸æˆ**:
   ```javascript
   localStorage.setItem('published_games', JSON.stringify([{
     id: "game_1",
     gameName: "å·²å‘å¸ƒæ¸¸æˆ",
     gameType: "RPG",
     platforms: { android: true },
     status: "published",
     downloads: 100,
     rating: 4.5,
     version: "1.0.0",
     publishedAt: Date.now()
   }]));
   ```

3. **åˆ·æ–°é¡µé¢**:
   ```javascript
   location.reload();
   ```

4. **éªŒè¯ç»“æœ**:
   - Total Games: 2
   - Published: 1
   - Drafts: 1
   - çœ‹åˆ° 2 ä¸ªæ¸¸æˆå¡ç‰‡ï¼ˆä¸åŒçŠ¶æ€æ ‡ç­¾ï¼‰

## ğŸ¨ çŠ¶æ€é¢œè‰²æ–¹æ¡ˆ

| çŠ¶æ€ | é¢œè‰² | æ ‡ç­¾æ–‡å­— |
|------|------|---------|
| published | ğŸŸ¢ ç»¿è‰² | Published |
| reviewing | ğŸŸ¡ é»„è‰² | Reviewing |
| draft | ğŸ”µ è“è‰² | Draft |

## âš¡ å®æ—¶æ›´æ–°

- **åˆ›å»ºé¡µé¢**: æ¯æ¬¡ä¿®æ”¹è¡¨å•å 0.5 ç§’è‡ªåŠ¨ä¿å­˜è‰ç¨¿
- **åˆ—è¡¨é¡µé¢**: æ¯ 3 ç§’è‡ªåŠ¨æ£€æŸ¥è‰ç¨¿å˜åŒ–å¹¶åˆ·æ–°

è¿™æ„å‘³ç€ä½ åœ¨åˆ›å»ºé¡µé¢å¡«å†™è¡¨å•æ—¶ï¼Œæœ€å¤š 3.5 ç§’ååˆ—è¡¨é¡µé¢å°±ä¼šè‡ªåŠ¨æ˜¾ç¤ºè‰ç¨¿ï¼

## ğŸ” è°ƒè¯•æ—¥å¿—

### å½“æœ‰è‰ç¨¿æ—¶

```
ğŸ” å¼€å§‹åŠ è½½æ¸¸æˆï¼ˆåŒ…æ‹¬è‰ç¨¿ï¼‰...
âœ… åŠ è½½å·²å‘å¸ƒæ¸¸æˆ: 0 ä¸ª
âœ… åŠ è½½è‰ç¨¿æ¸¸æˆ: æˆ‘çš„è‰ç¨¿æ¸¸æˆ
ğŸ“¦ æ€»å…±åŠ è½½æ¸¸æˆ: 1 ä¸ª
ğŸ“¦ åŠ è½½ç»“æœ: [{...}]
```

### å½“è‰ç¨¿å’Œå·²å‘å¸ƒæ¸¸æˆéƒ½æœ‰æ—¶

```
ğŸ” å¼€å§‹åŠ è½½æ¸¸æˆï¼ˆåŒ…æ‹¬è‰ç¨¿ï¼‰...
âœ… åŠ è½½å·²å‘å¸ƒæ¸¸æˆ: 2 ä¸ª
âœ… åŠ è½½è‰ç¨¿æ¸¸æˆ: æ–°è‰ç¨¿
ğŸ“¦ æ€»å…±åŠ è½½æ¸¸æˆ: 3 ä¸ª
ğŸ“¦ åŠ è½½ç»“æœ: [{...}, {...}, {...}]
```

## ğŸ“‹ åŠŸèƒ½æ¸…å•

- âœ… è‰ç¨¿æ¸¸æˆåœ¨åˆ—è¡¨ä¸­æ˜¾ç¤º
- âœ… è‰ç¨¿æœ‰ç‹¬ç‰¹çš„ "Draft" æ ‡ç­¾ï¼ˆè“è‰²ï¼‰
- âœ… è‰ç¨¿ç‰ˆæœ¬æ˜¾ç¤ºä¸º 0.1.0
- âœ… è‰ç¨¿å¯ä»¥è¢«æœç´¢å’Œè¿‡æ»¤
- âœ… è‰ç¨¿ç»Ÿè®¡æ­£ç¡®è®¡å…¥ Drafts å¡ç‰‡
- âœ… æäº¤åè‰ç¨¿è‡ªåŠ¨è½¬ä¸º Published
- âœ… å®æ—¶è‡ªåŠ¨åˆ·æ–°ï¼ˆ3ç§’æ£€æŸ¥ä¸€æ¬¡ï¼‰
- âœ… è·¨æ ‡ç­¾é¡µåŒæ­¥

## ğŸ‰ ç«‹å³æµ‹è¯•

**ç°åœ¨è®¿é—®åˆ›å»ºé¡µé¢å¡«å†™ä¸€äº›ä¿¡æ¯ï¼Œç„¶åæŸ¥çœ‹åˆ—è¡¨é¡µé¢ï¼Œåº”è¯¥èƒ½çœ‹åˆ°è‰ç¨¿æ¸¸æˆäº†ï¼**

æˆ–è€…åœ¨åˆ—è¡¨é¡µé¢æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// å¿«é€Ÿæ·»åŠ è‰ç¨¿æµ‹è¯•
localStorage.setItem('game_form_data', JSON.stringify({
  gameName: "æˆ‘çš„è‰ç¨¿æ¸¸æˆ",
  gameIntro: "æµ‹è¯•è‰ç¨¿æ˜¾ç¤º",
  gameType: "RPG",
  avatarSrc: "",
  headerImage: "",
  platforms: { android: true, ios: true, web: false },
  platformConfigs: {},
  screenshots: [],
  savedAt: Date.now()
}));

location.reload();
```

åˆ·æ–°ååº”è¯¥èƒ½çœ‹åˆ°è¿™ä¸ªè‰ç¨¿æ¸¸æˆï¼ğŸ®

